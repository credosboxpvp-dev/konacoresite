<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamer Hub | Canlƒ± Sohbet ve Sesli Oda</title>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    
    <style>
        /* --- GAMER TEMA AYARLARI --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: #050505; color: #dcddde; height: 100vh; overflow: hidden; }

        /* --- 1. Gƒ∞Rƒ∞≈û EKRANI (ƒ∞Sƒ∞M SE√áME) --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #200000 0%, #000 100%);
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000;
        }
        .login-box {
            background: #0f0f0f; padding: 50px; border-radius: 15px;
            border: 2px solid #ff0000; text-align: center; box-shadow: 0 0 30px rgba(255, 0, 0, 0.4);
        }
        .login-box h1 { color: #ff0000; margin-bottom: 25px; letter-spacing: 5px; }
        .login-box input {
            padding: 15px; width: 280px; background: #1a1a1a; border: 1px solid #333;
            color: white; border-radius: 8px; outline: none; margin-bottom: 20px; font-size: 16px;
        }
        .login-box button {
            padding: 15px 40px; background: #ff0000; color: white; border: none;
            border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; transition: 0.3s;
        }
        .login-box button:hover { background: #b30000; transform: scale(1.05); }

        /* --- 2. ANA UYGULAMA PANELƒ∞ --- */
        #app { display: none; height: 100vh; width: 100%; }
        
        /* Sunucu S√ºtunu */
        .sidebar-servers { width: 72px; background: #000; display: flex; flex-direction: column; align-items: center; padding-top: 15px; border-right: 1px solid #111; }
        .server-btn { width: 48px; height: 48px; background: #1a1a1a; border-radius: 50%; margin-bottom: 12px; cursor: pointer; color: #ff0000; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid transparent; transition: 0.3s; }
        .server-btn.active, .server-btn:hover { border-radius: 15px; background: #ff0000; color: #fff; }

        /* Kanal S√ºtunu */
        .sidebar-channels { width: 240px; background: #0a0a0a; border-right: 1px solid #111; }
        .channel-header { padding: 20px 15px; color: #ff0000; font-weight: bold; border-bottom: 1px solid #111; text-transform: uppercase; font-size: 12px; }
        .channel-item { padding: 12px 15px; margin: 5px 10px; border-radius: 5px; cursor: pointer; color: #888; transition: 0.2s; font-size: 15px; }
        .channel-item:hover { background: #1a1a1a; color: #fff; }
        .channel-item.active { background: #2a0505; color: #ff4d4d; font-weight: bold; }

        /* Ana ƒ∞√ßerik Alanƒ± */
        .main-stage { flex-grow: 1; display: flex; flex-direction: column; background: #0f0f0f; }
        .screen { display: none; height: 100%; flex-direction: column; }
        .screen.active { display: flex; }

        /* Sohbet Mesajlarƒ± */
        .messages-container { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .message-row { display: flex; gap: 15px; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .avatar { width: 42px; height: 42px; border-radius: 50%; background: #222; border: 2px solid #ff0000; display: flex; align-items: center; justify-content: center; font-size: 10px; }
        .msg-info { font-weight: bold; color: #ff4d4d; font-size: 14px; margin-bottom: 4px; }
        .msg-text { color: #dcddde; line-height: 1.4; }

        /* Mesaj Yazma Alanƒ± */
        .input-footer { padding: 20px; background: #0f0f0f; }
        .input-container { background: #1a1a1a; padding: 14px; border-radius: 8px; display: flex; border: 1px solid #222; }
        .input-container input { background: transparent; border: none; color: white; width: 100%; outline: none; font-size: 15px; }
        .send-icon { color: #ff0000; font-weight: bold; cursor: pointer; padding-left: 15px; }

        /* --- 3. SESLƒ∞ SOHBET (I≈ûINLANILAN YER) --- */
        .voice-room { 
            flex-grow: 1; display: flex; flex-direction: column; align-items: center; 
            justify-content: center; background: radial-gradient(circle, #300000 0%, #050505 100%); 
        }
        .pulse-mic { 
            width: 140px; height: 140px; background: #ff0000; border-radius: 50%; 
            display:flex; align-items:center; justify-content:center; font-size:50px;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.6); animation: heartbeat 1.5s infinite; 
        }
        @keyframes heartbeat { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        .voice-users { margin-top: 40px; display: flex; gap: 40px; }
        .v-user { text-align: center; }
        .v-user .avatar { width: 80px; height: 80px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h1>GAMER HUB</h1>
            <input type="text" id="usernameField" placeholder="Oyuncu Adƒ±n..." maxlength="12">
            <br>
            <button onclick="sistemeGiris()">BAƒûLAN</button>
        </div>
    </div>

    <div id="app">
        <div class="sidebar-servers">
            <div class="server-btn active">G</div>
            <div class="server-btn">üéÆ</div>
            <div class="server-btn">‚ò†Ô∏è</div>
        </div>
        
        <div class="sidebar-channels">
            <div class="channel-header">Gamer_Hub_v1.0</div>
            <div class="channel-item active" onclick="isinla('chat-page', this)"># genel-sohbet</div>
            <div class="channel-item" onclick="isinla('chat-page', this)"># turnuva-duyuru</div>
            <div style="margin: 20px 15px 5px; color: #444; font-size: 11px; font-weight: bold;">SESLƒ∞ KANALLAR</div>
            <div class="channel-item" onclick="isinla('voice-page', this)">üîä SESLƒ∞ ODA</div>
        </div>

        <div class="main-stage">
            
            <div id="chat-page" class="screen active">
                <div class="messages-container" id="chatWindow">
                    </div>
                <div class="input-footer">
                    <div class="input-container">
                        <input type="text" id="msgField" placeholder="Buraya yaz..." autocomplete="off">
                        <div class="send-icon" onclick="mesajAt()">G√ñNDER</div>
                    </div>
                </div>
            </div>

            <div id="voice-page" class="screen">
                <div class="voice-room">
                    <div class="pulse-mic">üéôÔ∏è</div>
                    <h2 style="margin-top:25px; color:#ff0000; letter-spacing: 2px;">I≈ûINLANMA BA≈ûARILI: SESLƒ∞ ODA</h2>
                    <p style="color:#888; margin-top:10px;">≈ûu an bu kanaldaki diƒüer oyuncularƒ± duyabilirsin.</p>
                    
                    <div class="voice-users">
                        <div class="v-user">
                            <div class="avatar" id="myVoiceAvatar">SEN</div>
                            <span id="myVoiceName" style="color:white"></span>
                        </div>
                        <div class="v-user" style="opacity: 0.2">
                            <div class="avatar">?</div>
                            <span>Bekleniyor...</span>
                        </div>
                    </div>

                    <button onclick="isinla('chat-page')" style="background:transparent; border:1px solid #ff0000; color:#ff0000; padding:12px 30px; margin-top:40px; cursor:pointer; border-radius:5px;">KANALDAN AYRIL</button>
                </div>
            </div>

        </div>
    </div>

    <script>
        let currentUser = "";

        // --- FIREBASE AYARLARI (Burayƒ± kendi bilgilerinizle doldurun) ---
        const firebaseConfig = {
            apiKey: "AIzaSy...",
            authDomain: "projeniz.firebaseapp.com",
            databaseURL: "https://projeniz-rtdb.firebaseio.com",
            projectId: "projeniz",
            storageBucket: "projeniz.appspot.com",
            messagingSenderId: "12345",
            appId: "1:12345:web:abc"
        };

        // Firebase'i Ba≈ülat
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const messagesRef = db.ref('chat_messages');

        // Sƒ∞STEME Gƒ∞Rƒ∞≈û YAPMA
        function sistemeGiris() {
            const nick = document.getElementById('usernameField').value.trim();
            if(nick.length >= 3) {
                currentUser = nick;
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app').style.display = 'flex';
                document.getElementById('myVoiceName').innerText = nick;
            } else {
                alert("L√ºtfen en az 3 karakterli bir isim se√ß!");
            }
        }

        // MESAJ G√ñNDERME (Firebase'e yazar)
        function mesajAt() {
            const box = document.getElementById('msgField');
            if(box.value.trim() !== "") {
                messagesRef.push({
                    sender: currentUser,
                    text: box.value,
                    time: new Date().toLocaleTimeString()
                });
                box.value = "";
            }
        }

        // MESAJLARI GER√áEK ZAMANLI Dƒ∞NLEME (Ba≈üka IP'den gelse bile g√∂r√ºrs√ºn)
        messagesRef.on('child_added', (snapshot) => {
            const data = snapshot.val();
            const win = document.getElementById('chatWindow');
            
            const msgHtml = `
                <div class="message-row">
                    <div class="avatar">${data.sender[0].toUpperCase()}</div>
                    <div>
                        <div class="msg-info">${data.sender} <span style="color:#444; font-size:10px; font-weight:normal;">${data.time}</span></div>
                        <div class="msg-text">${data.text}</div>
                    </div>
                </div>
            `;
            win.innerHTML += msgHtml;
            win.scrollTop = win.scrollHeight; // Yeni mesaj gelince a≈üaƒüƒ± kaydƒ±r
        });

        // EKRANLAR ARASI I≈ûINLANMA
        function isinla(pageId, element) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            if(element) {
                document.querySelectorAll('.channel-item').forEach(c => c.classList.remove('active'));
                element.classList.add('active');
            }
        }

        // Klavye Desteƒüi (Enter tu≈üu)
        document.getElementById('msgField').addEventListener('keypress', (e) => {
            if(e.key === 'Enter') mesajAt();
        });
    </script>
</body>
</html>
